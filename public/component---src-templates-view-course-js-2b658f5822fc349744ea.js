(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{ZLSp:function(e,t,a){"use strict";a.r(t),a.d(t,"pageQuery",(function(){return k}));a("a1Th"),a("Btvt"),a("KKXr"),a("f3/d");var n=a("q1tI"),i=a.n(n),r=a("wd/R"),c=a.n(r),o=a("IujW"),s=a.n(o),l=a("Wbzz"),u=a("L3fG"),d=a("Zttt"),m=a("wtQ5"),g=a("XHBn"),p=a("1k4U"),_=a("ww3E"),h=a("btis"),f=a("/Q2I"),E=a("cPnb");t.default=function(e){var t=e.data,a=e.location,r=Object(n.useState)(),o=r[0],k=r[1],v=Object(n.useState)(!1),b=v[0],y=v[1],w=Object(n.useState)(""),N=w[0],S=w[1],j=Object(n.useState)(),I=j[0],O=j[1],C=t.strapiCourses,L=C.seo?C.seo:Object(p.f)(C.name,C.summary,a.href),q=t.allStrapiCourseBookings.edges,A=!!C.online_only;Object(n.useEffect)((function(){if(a.href){var e=a.href.split("?booking="),t=e[e.length-1];q&&q.forEach((function(e){var a=e.node;a.strapiId.toString()===t&&k(a)}))}}),[q]);var B=function(e,t){y(!0),S(e),O(t)};return i.a.createElement(d.a,null,i.a.createElement(m.a,{title:L.title,description:L.description,canonicalHref:L.canonical_href,ogImage:L.image&&L.image.absolutePath,ogType:L.og_type,ogUrl:L.og_url,schema:L.schema_json_string}),i.a.createElement(h.d,{title:A?C.name+" (Online)":C.name,image:C.header_image?C.header_image.childImageSharp.fluid:{},imageDescription:C.header_image_description?C.header_image_description:"",skillLevel:C.skill_level,teachingTime:C.teaching_time,topic:C.course_topic.name,defaultVideo:t.strapiHomepage.video_link,defaultImage:t.imageSharp.fluid,video:C.youtube_video}),i.a.createElement("main",{className:"backgroundGreyLightSuper"},i.a.createElement("section",{className:"wrapper courseWrapper"},i.a.createElement("section",{className:"courseContent"},i.a.createElement("div",{className:"content"},i.a.createElement("h2",null,"Course details"),i.a.createElement(s.a,{source:C.details})),C.agenda_days&&C.agenda_days.length>0?i.a.createElement("div",{className:"agenda"+(A?" onlineOnly":"")},i.a.createElement("h2",null,"Agenda"),C.agenda_days.map((function(e,t){return i.a.createElement("div",{key:e.id},A?"":i.a.createElement("h5",null,"Day ",t+1),e.event.map((function(e){return i.a.createElement(E.a,{key:e.id,type:e.type,title:e.title,overview:e.overview})})))}))):"",A?"":q&&q.length>0?i.a.createElement("div",{className:"bookings"},i.a.createElement("section",{className:"heading"},i.a.createElement("h2",null,"Course bookings"),i.a.createElement(l.Link,{to:"/request-a-course"},"Request this course near you")),q.filter((function(e){return c()(e.node.start_date).isAfter()})).map((function(e){var t=e.node;return i.a.createElement("section",{className:"booking",key:t.id},i.a.createElement("div",{className:"information"},i.a.createElement("h4",null,i.a.createElement("span",{className:"dates"},Object(p.e)(t.teaching_period)),t.discount_percentage&&t.discount_percentage>0?i.a.createElement(E.i,{discount:!0,color:"blue",text:t.discount_percentage}):null),i.a.createElement("p",null,i.a.createElement(E.c,{price:t.booking_price,discount:t.discount_percentage&&t.discount_percentage})," ","â€¢ ",t.address_full)),i.a.createElement("div",{className:"actions"},i.a.createElement(_.a,{styles:"buttonPrimary iconLeft iconArrow",onClick:function(){return B(t.stripe_product,t.strapiId)}},"Book now")))}))):i.a.createElement("div",{className:"bookings"},i.a.createElement("section",{className:"heading"},i.a.createElement("h2",null,"Course bookings")),i.a.createElement(l.Link,{className:"booking noBookings",to:"/request-a-course"},i.a.createElement("span",null,"No bookings scheduled,"," ",i.a.createElement("span",null,"request this course to be held near you"))))),i.a.createElement("aside",{className:"courseSidebar"},o?i.a.createElement(E.f,{price:o.booking_price,discount:o.discount_percentage,teachingPeriods:o.teaching_period,fullAddress:o.address_full,shortAddress:o.address_short,prepareModal:function(){return B(o.stripe_product,o.strapiId)}}):A?i.a.createElement(E.e,{price:C.thinkific_training.course_price||0===C.thinkific_training.course_price?C.thinkific_training.course_price:"Free",discount:C.thinkific_training.discount_percentage,link:C.thinkific_training.course_link}):q&&q.length>0?"":i.a.createElement(E.g,null),C.reviews&&C.reviews.length>0?C.reviews.map((function(e){return i.a.createElement(E.h,{key:e.id,link:e.continue_reading_link,source:e.continue_reading_source,review:e.review_full,summary:e.review_summary,location:e.reviewer_location,name:e.reviewer_name})})):""))),i.a.createElement(g.a,null),b?i.a.createElement(f.a,{closeFn:function(){return y(!1)},stripeProduct:N,location:a,bookingId:I}):Object(u.a)())};var k="1268906220"}}]);
//# sourceMappingURL=component---src-templates-view-course-js-2b658f5822fc349744ea.js.map